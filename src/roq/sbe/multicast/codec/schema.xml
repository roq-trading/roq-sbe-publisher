<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<messageSchema package="com.roq-trading" id="1" version="1" byteOrder="littleEndian">
  <types>
    <type name="Date" primitiveType="int32" description="seconds since epoch"/>
    <type name="DateTime" primitiveType="int64" description="nanoseconds since epoch"/>
    <type name="TimeZone" primitiveType="char" length="32" />
    <type name="Currency" primitiveType="char" length="32" />
    <type name="Exchange" primitiveType="char" length="32" />
    <type name="Symbol" primitiveType="char" length="48" />
    <type name="Description" primitiveType="char" length="128" />
    <composite name="Layer">
        <type name="bidPrice" primitiveType="double" />
        <type name="bidQuantity" primitiveType="double" />
        <type name="askPrice" primitiveType="double" />
        <type name="askQuantity" primitiveType="double" />
    </composite>
    <composite name="groupSize">
      <type name="blockLength" primitiveType="uint16" />
      <type name="numInGroup" primitiveType="uint8" />
    </composite>
    <composite name="messageHeader">
      <type name="blockLength" primitiveType="uint16" />
      <type name="templateId" primitiveType="uint16" />
      <type name="schemaId" primitiveType="uint16" />
      <type name="version" primitiveType="uint16" />
    </composite>
    <enum name="OptionType" encodingType="uint8">
        <validValue name="Undefined" description="Undefined">0</validValue>                                                                                        
        <validValue name="Call" description="Call">1</validValue>                                                                                        
        <validValue name="Put" description="Put">2</validValue>                                             
    </enum>
    <enum name="SecurityType" encodingType="uint8">
        <validValue name="Undefined" description="Undefined">0</validValue>                                                                                        
        <validValue name="Spot" description="Spot">1</validValue>                                                                                        
        <validValue name="Futures" description="Futures">2</validValue>                                             
        <validValue name="Option" description="Option">3</validValue>                                             
        <validValue name="Swap" description="Swap">4</validValue>                                             
    </enum>
    <enum name="TradingStatus" encodingType="uint8">
        <validValue name="Undefined" description="Undefined">0</validValue>                                                                                        
        <validValue name="StartOfDay" description="StartOfDay">1</validValue>                                                                                        
        <validValue name="PreOpen" description="PreOpen">2</validValue>                                                                                        
        <validValue name="PreOpenNoCancel" description="PreOpenNoCancel">3</validValue>                                                                                        
        <validValue name="PreOpenFreeze" description="PreOpenFreeze">4</validValue>                                                                                        
        <validValue name="Open" description="Open">5</validValue>                                                                                        
        <validValue name="FastMarket" description="FastMarket">6</validValue>                                                                                        
        <validValue name="Halt" description="Halt">7</validValue>                                                                                        
        <validValue name="CloseNotFinal" description="CloseNotFinal">8</validValue>                                                                                        
        <validValue name="PreClose" description="PreClose">9</validValue>                                                                                        
        <validValue name="PreCloseNoCancel" description="PreCloseNoCancel">10</validValue>                                                                                        
        <validValue name="PreCloseFreeze" description="PreCloseFreeze">11</validValue>                                                                                        
        <validValue name="Close" description="Close">12</validValue>                                                                                        
        <validValue name="PostClose" description="PostClose">13</validValue>                                                                                        
        <validValue name="EndOfDay" description="EndOfDay">14</validValue>                                                                                        
    </enum>
    <enum name="UpdateAction" encodingType="uint8">
        <validValue name="Undefined" description="Undefined">0</validValue>                                                                                        
        <validValue name="New" description="New">1</validValue>                                                                                        
        <validValue name="Change" description="Change">2</validValue>                                                                                        
        <validValue name="Delete" description="Delete">3</validValue>                                                                                        
        <validValue name="Trade" description="Trade">4</validValue>                                                                                        
    </enum>
    <enum name="UpdateType" encodingType="uint8">
        <validValue name="Undefined" description="Undefined">0</validValue>                                                                                        
        <validValue name="Snapshot" description="Snapshot">1</validValue>                                                                                        
        <validValue name="Incremental" description="Incremental">2</validValue>                                             
        <validValue name="Stale" description="Stale">3</validValue>                                             
    </enum>
  </types>
  <message name="ReferenceData" id="10">
    <field name="exchange" id="1" type="Exchange" />
    <field name="symbol" id="2" type="Symbol" />
    <field name="description" id="3" type="Description" />
    <field name="security_type" id="4" type="SecurityType" />
    <field name="baseCurrency" id="5" type="Currency" />
    <field name="quoteCurrency" id="6" type="Currency" />
    <field name="marginCurrency" id="7" type="Currency" />
    <field name="commissionCurrency" id="8" type="Currency" />
    <field name="tickSize" id="9" type="double" />
    <field name="multiplier" id="10" type="double" />
    <field name="minNotional" id="11" type="double" />
    <field name="minTradeVol" id="12" type="double" />
    <field name="maxTradeVol" id="13" type="double" />
    <field name="tradeVolStepSize" id="14" type="double" />
    <field name="optionType" id="15" type="OptionType" />
    <field name="strikeCurrency" id="16" type="Currency" />
    <field name="strikePrice" id="17" type="double" />
    <field name="underlying" id="18" type="Symbol" />
    <field name="timeZone" id="19" type="TimeZone" />
    <field name="issueDate" id="20" type="Date" />
    <field name="settlementDate" id="21" type="Date" />
    <field name="expiryDateTime" id="22" type="DateTime" />
    <field name="expiryDateTimeUTC" id="23" type="DateTime" />
  </message>
  <message name="MarketStatus" id="11">
    <field name="exchange" id="1" type="Exchange" />
    <field name="symbol" id="2" type="Symbol" />
    <field name="tradingStatus" id="3" type="TradingStatus" />
  </message>
  <message name="TopOfBook" id="12">
    <field name="exchange" id="1" type="Exchange" />
    <field name="symbol" id="2" type="Symbol" />
    <field name="layer" id="3" type="Layer" />
    <field name="updateType" id="4" type="UpdateType" />
    <field name="exchangeTimeUTC" id="5" type="DateTime" />
    <field name="exchangeSequence" id="6" type="int64" />
    <field name="sendingTimeUTC" id="7" type="DateTime" />
  </message>
  <message name="MarketByPriceUpdate" id="13">
    <field name="exchange" id="1" type="Exchange" />
    <field name="symbol" id="2" type="Symbol" />
    <!-- fields before groups ... -->
    <field name="updateType" id="17" type="UpdateType" />
    <field name="exchangeTimeUTC" id="18" type="DateTime" />
    <field name="exchangeSequence" id="19" type="int64" />
    <field name="sendingTimeUTC" id="20" type="DateTime" />
    <!-- these are more like "internal" ...
    <field name="priceDecimals" id="21" type="Decimals" />
    <field name="quantityDecimals" id="22" type="Decimals" />
    <field name="maxDepth" id="23" type="uint16" />
    <field name="checksum" id="24" type="uint32" />
    -->
    <group name="bids" id="3" blockLength="40" dimensionType="groupSize">
        <type name="price" id="4" type="double" />
        <type name="quantity" id="5" type="double" />
        <type name="impliedQuantity" id="6" type="double" />
        <type name="numberOfOrder" id="7" type="uint16" />
        <type name="updateAction" id="8" type="UpdateAction" />
        <type name="priceLevel" id="9" type="uint32" />
    </group>
    <group name="asks" id="10" blockLength="40" dimensionType="groupSize">
        <type name="price" id="11" type="double" />
        <type name="quantity" id="12" type="double" />
        <type name="impliedQuantity" id="13" type="double" />
        <type name="numberOfOrder" id="14" type="uint16" />
        <type name="updateAction" id="15" type="UpdateAction" />
        <type name="priceLevel" id="16" type="uint32" />
    </group>
  </message>
</messageSchema>
